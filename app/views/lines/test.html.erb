<div class='container'>
  <section class="hero" id='poem-info'>
    <div class="hero-body">
      <div class="container">
        <h1 class="title">
          <%= @test_facade.poem_name %>
        </h1>
        <h2 class="subtitle">
          <%= @test_facade.canto_name %>
        </h2>
      </div>
    </div>
  </section>
  <section class='level-item' id='poem-review'>
    <div class="card">
      <header class="card-header">
        <p class="card-header-title">
          <%= @test_facade.stanza_number %>
        </p>
        <a href="#" class="card-header-icon" aria-label="more options">
          <span class="icon">
            <i class="fas fa-angle-down" aria-hidden="true"></i>
          </span>
        </a>
      </header>
      <div class="card-content">
        <div class="content">
          <ul class='lines'>
            <% @test_facade.lines.each do |line| %>
              <li class="<%= line.classes %>">
                <% line.words.each do |word| %>
                  <%= word.present_html %>
                <% end %>
              </li>
            <% end %>
          </ul>
        </div>
      </div>
      <footer class="card-footer">
        <%= link_to(@test_facade.retry_button.name, lines_test_url(@test_facade.retry_button.options), class: @test_facade.retry_button.classes, id: @test_facade.retry_button.id) if @test_facade.retry_button.condition? %>
        <%= link_to(@test_facade.next_button.name, lines_read_url(@test_facade.next_button.options), class: @test_facade.next_button.classes, id: @test_facade.next_button.id) if @test_facade.next_button.condition? %>
      </footer>
    </div>
  </section>
</div>
<script>
(function () {
  document.body.onkeyup = function(event){
    var spacebar = 32;
    if (event.keyCode == spacebar) {
      var enabledInput = findNextEnabledInput();
      if (enabledInput) {
        submitGuess(enabledInput);
        readyNextInput(enabledInput);
      } else {
        reviewNextLine();
      }
    }
  }
})();
</script>
